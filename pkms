#!/usr/bin/env bash
# PKMS launcher for Unix-like shells
# Try python3 then python for compatibility across systems
export PYTHONUNBUFFERED=1
# (No sed stub here) Rely on bundled Python helper for scripts that require sed-like behavior.
# Prefer repo .venv python if present
REPO_DIR="$(cd "$(dirname "$0")" && pwd)"
REPO_PYTHON="$REPO_DIR/.venv/Scripts/python.exe"
if [ -x "$REPO_PYTHON" ]; then
	exec "$REPO_PYTHON" -m pkms_core.cli "$@"
fi

if command -v python3 >/dev/null 2>&1; then
	exec python3 -m pkms_core.cli "$@"
else
	exec python -m pkms_core.cli "$@"
fi
